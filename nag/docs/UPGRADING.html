<div class="document" id="upgrading-nag">
<h1 class="title">Upgrading Nag</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="field"><th class="docinfo-name">Last update:</th><td class="field-body">2008-09-23</td>
</tr>
<tr><th class="docinfo-name">Revision:</th>
<td>1.1.8.13</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference" href="mailto:nag&#64;lists.horde.org">nag&#64;lists.horde.org</a></td></tr>
</tbody>
</table>
<p>These are instructions to upgrade from earlier Nag versions. Please backup
your existing data before running any of the steps described below. You can't
use the updated data with your old Nag version anymore.</p>
<div class="section" id="upgrading-nag-from-2-2-x-to-2-3-x">
<h1><a name="upgrading-nag-from-2-2-x-to-2-3-x">Upgrading Nag from 2.2.x to 2.3.x</a></h1>
<p>Some fields in the SQL share driver tables have been changed. Execute the
provided SQL script to update your database if you are using the native SQL
share driver.</p>
<blockquote>
mysql --user=root --password=&lt;MySQL-root-password&gt;  &lt;db name&gt; &lt; scripts/upgrades/2.2_to_2.3.sql</blockquote>
</div>
<div class="section" id="upgrading-nag-from-2-1-x-to-2-2-x">
<h1><a name="upgrading-nag-from-2-1-x-to-2-2-x">Upgrading Nag from 2.1.x to 2.2.x</a></h1>
<div class="section" id="sql-backends">
<h2><a name="sql-backends">SQL Backends</a></h2>
<p>A few new fields have been added to the default SQL table layout.</p>
<p>Execute the provided SQL script to update your data to the new Nag version,
e.g.:</p>
<pre class="literal-block">
mysql --user=root --password=&lt;MySQL-root-password&gt; &lt;db name&gt; &lt; scripts/upgrades/2.1_to_2.2.sql
</pre>
<p>You also have to execute the provided PHP script:</p>
<pre class="literal-block">
php scripts/upgrades/2006-04-18_add_creator_and_assignee_fields.php
</pre>
</div>
<div class="section" id="new-beta-sql-share-driver-support">
<h2><a name="new-beta-sql-share-driver-support">New Beta SQL Share Driver Support</a></h2>
<p>A new beta-level SQL Horde_Share driver has been added in Horde 3.2. This driver
offers significant performance improvements over the existing Datatree driver,
but it has not received the same level of testing, thus the beta designation.
In order to make use of this driver, you must be using Horde 3.2-RC3 or
later. The new tables needed for this driver already should have been created
by the step above.</p>
<p>If you want to use the new SQL Share driver, you must also execute the
provided PHP script to migrate your existing share data to the new format:</p>
<pre class="literal-block">
php scripts/upgrades/convert_datatree_shares_to_sql.php
</pre>
</div>
</div>
<div class="section" id="upgrading-nag-from-1-1-x-to-2-0-x">
<h1><a name="upgrading-nag-from-1-1-x-to-2-0-x">Upgrading Nag from 1.1.x to 2.0.x</a></h1>
<div class="section" id="id1">
<h2><a name="id1">SQL Backends</a></h2>
<p>Two new fields have been added to the default SQL table layout.  The new
<tt class="docutils literal"><span class="pre">task_uid</span></tt> field provides a global unique ID to task items, the
<tt class="docutils literal"><span class="pre">task_alarm</span></tt> allows you to set alarm notification on due dates.</p>
<p>Execute the provided SQL script to update your data to the new Nag version:</p>
<pre class="literal-block">
mysql --user=root --password=&lt;MySQL-root-password&gt; &lt;db name&gt; &lt; scripts/upgrades/1.1_to_2.0.mysql.sql
</pre>
</div>
<div class="section" id="categories">
<h2><a name="categories">Categories</a></h2>
<p>Categories are now being maintained centrally for all Horde applications that
support them.  To convert the old task categories execute the provided PHP
script:</p>
<pre class="literal-block">
php scripts/upgrades/2004-05-13_convert_categories_to_strings.php
</pre>
</div>
</div>
</div>
<hr class="docutils footer" />
<div class="footer">
<a class="reference" href="http://cvs.horde.org/co.php/nag/docs/UPGRADING">View document source</a>.
Generated by <a class="reference" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.
</div>
